{{#if block.settings.icon}}
  <div class="counter-icon mb-4 flex justify-center">
    <img src="{{ block.settings.icon | image_url(width=80) }}" alt="" class="w-12 h-12 md:w-16 md:h-16">
  </div>
{{/if}}

<div class="counter-number-wrapper flex items-center justify-center mb-4">
  {{#if block.settings.prefix}}
    <span class="counter-prefix text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-light"
          style="font-family: {{#if section_settings.number_font == "title"}}var(--title-font){{#else/}}var(--body-font){{/if}}; color: {{ section_settings.number_color | default("000000") }};">
      {{block.settings.prefix}}
    </span>
  {{/if}}

  <span class="counter-number text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-light"
        data-start="0"
        data-end="{{block.settings.target_value}}"
        data-delimiter="{{#if section_settings.use_delimiter}},{{/if}}"
        style="font-family: {{#if section_settings.number_font == "title"}}var(--title-font){{#else/}}var(--body-font){{/if}}; color: {{ section_settings.number_color | default("000000") }};">
    0
  </span>

  {{#if block.settings.suffix}}
    <span class="counter-suffix text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-light"
          style="font-family: {{#if section_settings.number_font == "title"}}var(--title-font){{#else/}}var(--body-font){{/if}}; color: {{ section_settings.number_color | default("000000") }};">
      {{block.settings.suffix}}
    </span>
  {{/if}}
</div>

<div class="counter-title text-lg md:text-xl lg:text-2xl xl:text-3xl {{#if section_settings.uppercase_labels}}uppercase{{/if}} tracking-wider"
     style="font-family: {{#if section_settings.label_font == "title"}}var(--title-font){{#else/}}var(--body-font){{/if}}; color: {{ section_settings.label_color | default("666666") }};">
  {{block.settings.label}}
</div>

{{#if block.settings.description}}
  <div class="counter-description mt-2 text-base md:text-lg lg:text-xl xl:text-2xl"
       style="color: {{ section_settings.description_color | default("999999") }};">
    {{block.settings.description}}
  </div>
{{/if}}

{{#schema}}
{
  "name": "Counter",
  "settings": [
    {
      "type": "range",
      "id": "target_value",
      "label": "Target Value",
      "min": 1,
      "max": 1000000,
      "step": 1,
      "default": 100
    },
    {
      "type": "text",
      "id": "prefix",
      "label": "Prefix",
      "info": "Text before the number, e.g. $"
    },
    {
      "type": "text",
      "id": "suffix",
      "label": "Suffix",
      "default": "+",
      "info": "Text after the number, e.g. +, %, k"
    },
    {
      "type": "text",
      "id": "label",
      "label": "Label",
      "default": "Happy Customers"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "image_picker",
      "id": "icon",
      "label": "Icon"
    }
  ]
}
{{/schema}}
